(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],g=0,h=[];g<r.length;g++)o=r[g],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},i={app:0},a=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"13fe":function(t,e,s){"use strict";var n=s("5aa0"),i=s.n(n);i.a},"1a8b":function(t,e,s){"use strict";var n=s("a3bf"),i=s.n(n);i.a},2395:function(t,e,s){},"2be0":function(t,e,s){"use strict";var n=s("eb31"),i=s.n(n);i.a},"2dcc":function(t,e,s){},"3dff":function(t,e,s){"use strict";var n=s("6f2c"),i=s.n(n);i.a},"56c8":function(t,e,s){"use strict";var n=s("757e"),i=s.n(n);i.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=(s("d3b7"),s("bc3a")),a=s.n(i),o={},r=a.a.create(o);r.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,e){t.axios=r,window.axios=r,Object.defineProperties(t.prototype,{axios:{get:function(){return r}},$axios:{get:function(){return r}}})},n["a"].use(Plugin);Plugin;var c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{on:t.flag},attrs:{id:"app"}},[s("keep-alive",[s("router-view",{on:{onPlayer:function(e){t.currentSongId=e[0],t.currentSongList=e[1]}}})],1),t.currentSongId?s("player",{attrs:{SongId:t.currentSongId,currentSongList:t.currentSongList},on:{onPlayer:function(e){return t.$emit("onPlayer",e)},toggle:function(e){return t.handleChange(e)}}}):t._e(),s("div",{})],1)},l=[],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{on:t.isShow},attrs:{id:"audio"}},[s("audio",{ref:"audio",attrs:{src:t.getSongId,autoplay:"",controls:""}}),t.SongMsg&&!t.musicBox?s("div",{ref:"isMusic",staticClass:"player",on:{click:function(e){t.musicBox=!0},touchstart:t.touches}},[s("div",{staticClass:"song-img"},[s("img",{attrs:{src:t.SongMsg.data.songs[0].al.picUrl,alt:""}})]),s("div",{staticClass:"song-operation"},[s("div",{staticClass:"operation-top"},[s("div",{staticClass:"song-msg"},[s("h3",[t._v(t._s(t.SongMsg.data.songs[0].name))]),s("p",[t._v(t._s(t.SongMsg.data.songs[0].ar[0].name)+"-"+t._s(t.SongMsg.data.songs[0].al.name))])]),s("ul",{staticClass:"song-btn"},[s("li",[s("i",{staticClass:"fa fa-step-backward",on:{click:function(e){return e.stopPropagation(),t.toggleMusic(t.currentId,-1)}}})]),s("li",[s("i",{class:[t.toggle?"fa fa-pause":"fa fa-play"],on:{click:function(e){return e.stopPropagation(),t.toggleBtn(e)}}})]),s("li",[s("i",{staticClass:"fa fa-step-forward",on:{click:function(e){return e.stopPropagation(),t.toggleMusic(t.currentId,1)}}})])])]),s("div",{staticClass:"operation-bottom"},[s("span",{staticClass:"sliding"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"plan",attrs:{type:"range"},domProps:{value:t.currentValue},on:{input:t.handleChange,__r:function(e){t.currentValue=e.target.value}}})])])]):t._e(),t.SongMsg?s("div",{class:[t.musicBox?"show-box":"hide-box","music-box"],on:{click:function(e){t.setVolume=!1}}},[s("div",{staticClass:"music-box-head"},[s("span",[s("i",{staticClass:"fa fa-close",on:{click:function(e){t.musicBox=!1}}})]),s("p",[t._v("now Playing")]),s("span",[s("i",{staticClass:"fa fa-ellipsis-h",on:{click:function(e){t.isMore=!0}}})])]),t.lyric?t._e():s("div",{staticClass:"slider",on:{click:function(e){t.lyric=!t.lyric}}},[s("div",{staticClass:"song-img"},[s("img",{attrs:{src:t.SongMsg.data.songs[0].al.picUrl,alt:""}})]),s("div",{staticClass:"music-message"},[t._m(0),s("div",{staticClass:"music-name"},[s("p",{staticClass:"name-m"},[t._v(t._s(t.SongMsg.data.songs[0].name))]),s("p",{staticClass:"single-m"},[t._v(t._s(t.SongMsg.data.songs[0].ar[0].name))])]),s("span",[s("i",{staticClass:"fa fa-indent",on:{click:function(e){e.stopPropagation(),t.currentPlayList=!0}}})])])]),t.lyric?s("div",{staticClass:"slider lyric",on:{click:function(e){t.lyric=!t.lyric}}},[s("p",{ref:"markLine",staticClass:"mark-line"},[s("i")]),s("ul",{ref:"lyricBox",staticClass:"lyric-box",staticStyle:{top:"0px"},on:{touchstart:t.scrollLyric}},t._l(t.lyricShow(),(function(e,n){return s("li",{key:n,class:{"playing-lyric":n==t.lyricId-1}},[t._v(t._s(e.text||"-----------------"))])})),0)]):t._e(),s("div",{staticClass:"music-box-footer"},[s("div",{staticClass:"current-music"},[s("div",{staticClass:"progress"},[s("p",{staticClass:"operation-bottom"},[s("span",{staticClass:"sliding"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"plan",attrs:{type:"range"},domProps:{value:t.currentValue},on:{input:t.handleChange,__r:function(e){t.currentValue=e.target.value}}})]),s("p",{staticClass:"time"},[s("span",{staticClass:"now"},[t._v(t._s(t.now))]),s("span",{staticClass:"end"},[t._v(t._s(t.end))])])])]),s("div",{staticClass:"music-operation"},[s("span",[0==t.Pattern?s("i",{staticClass:"fa fa-random pattern",on:{click:function(e){t.Pattern=1}}}):t._e(),1==t.Pattern?s("i",{staticClass:"fa fa-refresh pattern",on:{click:function(e){t.Pattern=2}}}):t._e(),2==t.Pattern?s("i",{staticClass:"fa fa-repeat pattern",on:{click:function(e){t.Pattern=0}}}):t._e()]),s("div",{staticClass:"toggle-box"},[s("p",[s("span",[s("i",{staticClass:"fa fa-step-backward",on:{click:function(e){return e.stopPropagation(),t.toggleMusic(t.currentId,-1)}}})]),s("span",[s("i",{ref:"toggleBtn",class:[t.toggle?"fa fa-pause":"fa fa-play"],on:{click:t.toggleBtn}})]),s("span",[s("i",{staticClass:"fa fa-step-forward",on:{click:function(e){return e.stopPropagation(),t.toggleMusic(t.currentId,1)}}})])])]),s("span",{class:[t.setVolume?"volume-on":"volume-off","volume"]},[s("i",{staticClass:"fa fa-volume-up",on:{click:function(e){e.stopPropagation(),t.setVolume=!t.setVolume}}}),s("div",{staticClass:"volume-plan"},[s("div",{staticClass:"slider-box"},[s("div",{staticClass:"sliding-volume"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.volumeValue,expression:"volumeValue"}],staticClass:"volume-slider",attrs:{type:"range"},domProps:{value:t.volumeValue},on:{__r:function(e){t.volumeValue=e.target.value}}})])])])])]),s("div",{class:[{open:t.currentPlayList},"currentPlayList-box"],on:{click:function(e){if(e.target!==e.currentTarget)return null;t.currentPlayList=!1}}},[s("div",{staticClass:"currentPlayList"},[s("div",{staticClass:"currentBox-head"},[0==t.Pattern?s("p",[s("span",[s("i",{staticClass:"fa fa-random pattern",on:{click:function(e){t.Pattern=1}}})]),t._v(" 随机播放("+t._s(t.currentSongList.length)+") ")]):t._e(),1==t.Pattern?s("p",[s("span",[s("i",{staticClass:"fa fa-refresh pattern",on:{click:function(e){t.Pattern=2}}})]),t._v(" 列表循环("+t._s(t.currentSongList.length)+") ")]):t._e(),2==t.Pattern?s("p",[s("span",[s("i",{staticClass:"fa fa-repeat pattern",on:{click:function(e){t.Pattern=0}}})]),t._v(" 单曲循环("+t._s(t.currentSongList.length)+") ")]):t._e()]),s("ul",t._l(t.currentSongList,(function(e,n){return s("li",{key:n,on:{click:function(s){t.currentId=e.id}}},[s("div",{staticClass:"Song-msg"},[null!=e.song?s("div",{staticClass:"Song-name"},[s("h6",[t._v(t._s(e.name.trim()))]),s("p",[s("i",[t._v("SQ")]),t._v(" "+t._s(e.song.artists[0].name)+"-"+t._s(e.song.album.name)+" ")])]):null!=e.ar?s("div",{staticClass:"Song-name"},[s("h6",[t._v(t._s(e.name.trim()))]),s("p",[s("i",[t._v("SQ")]),t._v(" "+t._s(e.ar[0].name)+"-"+t._s(e.al.name)+" ")])]):s("div",{staticClass:"Song-name"},[s("h6",[t._v(t._s(e.name.trim()))]),s("p",[s("i",[t._v("SQ")]),t._v(" "+t._s(e.artists[0].name)+"-"+t._s(e.album.name)+" ")])]),t._m(1,!0)])])})),0)])]),s("more",{attrs:{isMore:t.isMore,currentMusic:t.SongMsg.data.songs[0]},on:{moreHide:function(e){t.isMore=!1}}})],1):t._e()])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"collect"},[s("i",{staticClass:"fa fa-heart"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"play fa fa-play-circle-o"})])}],h=(s("c975"),s("fb6a"),s("a434"),s("a9e3"),s("e25e"),s("ac1f"),s("1276"),s("498a"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:[{"more-show":t.isMore},"more"],on:{click:function(e){return t.$emit("moreHide")}}},[s("div",{staticClass:"more-fun"},[s("h3",[t._v(t._s(t.currentMusic.al.name))]),t._m(0)])])}),d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("div",{staticClass:"icon"},[s("i",{staticClass:"iconfont icon-ren"})]),s("span",[t._v("歌手信息")])]),s("li",[s("div",{staticClass:"icon"},[s("i",{staticClass:"iconfont icon-MV"})]),s("span",[t._v("分享")])]),s("li",[s("div",{staticClass:"icon"},[s("i",{staticClass:"iconfont icon-MV"})]),s("span",[t._v("分享")])]),s("li",[s("div",{staticClass:"icon"},[s("i",{staticClass:"iconfont icon-MV"})]),s("span",[t._v("分享")])])])}],m={props:{isMore:Boolean,currentMusic:Object},data:function(){return{}},methods:{moreHide:function(){this.isMore=!1}}},f=m,p=(s("5ce1"),s("2877")),v=Object(p["a"])(f,h,d,!1,null,"833d9a0e",null),y=v.exports,_={components:{more:y},props:["SongId","currentSongList"],data:function(){return{SongMsg:null,isShow:!1,toggle:!1,musicBox:!1,songListId:[],currentId:this.SongId,count:0,currentValue:0,Pattern:1,randomList:[],currentPlayList:!1,lyric:!1,now:"00:00",end:"00:00",setVolume:!1,volumeValue:0,lyricTxt:"",lyricMsg:[],lyricId:0,TimeId:"",lyricTimeId:null,isScorll:!1,isMore:!1,touchStart:!1,touchEnd:!1}},watch:{Pattern:function(){this.randomList=window.localStorage.getItem("songListId").split(",")},isShow:function(){this.$emit("toggle",this.isShow)},SongId:function(){this.currentId=this.SongId},volumeValue:function(){var t=this.$el.querySelector("audio");this.$el.querySelector(".sliding-volume").style.height=this.volumeValue+"%",t.volume=this.volumeValue/100},toggle:function(){var t=this;this.lyricTimeId&&(clearInterval(this.lyricTimeId),this.lyricTimeId=0),this.toggle?this.lyricTimeId=window.setInterval((function(){if(t.lyricScroll(),t.$el.querySelector(".playing-lyric")&&!t.isScorll){var e=t.$refs.lyricBox,s=t.$el.querySelector(".playing-lyric").offsetHeight;e.style.top=-(s*t.lyricId-1)+s+"px"}}),200):setInterval(this.lyricTimeId)},lyricId:function(){if(this.$el.querySelector(".playing-lyric")&&!this.isScorll){var t=this.$refs.lyricBox,e=this.$el.querySelector(".playing-lyric").offsetHeight;t.style.top=-e*this.lyricId+"px"}}},computed:{getSongId:function(){this.getSongMsg(this.currentId);var t=[];return this.currentSongList.forEach((function(e){t.push(e.id)})),window.localStorage.setItem("songListId",t),"https://music.163.com/song/media/outer/url?id="+this.currentId+".mp3"}},methods:{scrollLyric:function(t){var e=this,s=t.touches[0].clientY,n=this.$refs.lyricBox,i=parseInt(n.style.top),a=this.$refs.markLine;a.style.opacity=1,n.style.transition="all 0s",this.isScorll=!0;var o,r,c=this.$el.querySelector(".playing-lyric").offsetHeight,l=this.$el.querySelector("audio");n.ontouchmove=function(t){o=parseInt(n.style.top)>0?0:parseInt(n.style.top);var e=t.touches[0].clientY;r=s-e,n.style.top=i-r+"px"},n.ontouchend=function(){if(r){window.console.log("xx");var t=Math.round(o/c);l.currentTime=e.lyricMsg[Math.abs(t)].time,n.style.transition="all 0.5s",a.style.opacity=0}e.isScorll=!1}},lyricScroll:function(){for(var t=this.$el.querySelector("audio"),e=t.currentTime,s=0;s<this.lyricMsg.length;s++)if(this.lyricMsg[s].time>=e){this.lyricId=s;break}},lyricShow:function(){var t=[];return this.lyricTxt.split("\n").forEach((function(e,s){var n=e.slice(1,10);e?t[s]={time:60*Number(n.slice(0,2))+Number(n.slice(3)),text:e.slice(11).trim()}:(e="-------------",t[s]={time:60*Number(n.slice(0,2))+Number(n.slice(3)),text:e.slice(11).trim()})})),this.lyricMsg=t,t},handleChange:function(){this.toggle=!0,this.currentValue=this.$el.querySelector(".plan").value;var t=this.$el.querySelector("audio");if(t.play(),t.currentTime=this.currentValue/100*this.SongMsg.data.songs[0].dt/1e3,this.$el.querySelector(".sliding"))for(var e=this.$el.querySelectorAll(".sliding"),s=0;s<e.length;s++)e[s].style.width=this.currentValue+"%"},translateTime:function(t){var e=parseInt(t/60);e=e<10?"0"+e:e;var s=parseInt(t%60);return s=s<10?"0"+s:s,e+":"+s},playProgress:function(){var t=this.$el.querySelector("audio"),e=t.currentTime;if(this.SongMsg){if(this.currentValue=e/(this.SongMsg.data.songs[0].dt/1e3)*100,this.end=this.translateTime(this.SongMsg.data.songs[0].dt/1e3),this.now=this.translateTime(e),this.$el.querySelector(".sliding"))for(var s=this.$el.querySelectorAll(".sliding"),n=0;n<s.length;n++)s[n].style.width=this.currentValue+"%";this.currentValue>=99.5&&this.toggleMusic(this.currentId,1)}},toggleMusic:function(t,e){var s=window.localStorage.getItem("songListId").split(",");if(this.count=s.indexOf(String(t)),1==this.Pattern)this.count+e<0?(this.currentId=s[s.length-1],this.getSongMsg(s[s.length-1])):this.count+e>s.length-1?(this.currentId=s[0],this.getSongMsg(s[0])):(this.currentId=s[this.count+e],this.getSongMsg(s[this.count+e]));else if(0==this.Pattern){var n=Math.floor(Math.random()*this.randomList.length);this.currentId=this.randomList[n],this.getSongMsg(this.randomList[n]),this.randomList.length>1?this.randomList.splice(n,1):this.randomList=window.localStorage.getItem("songListId").split(",")}else{var i=this.$el.querySelector("audio");i.currentTime=0}},touches:function(){var t=this,e=this.$refs.isMusic;this.touchStart=!0,e.ontouchend=function(){t.touchEnd=!0,t.touchStart&&t.touchEnd&&(t.musicBox=!0,window.console.log("ooo"))}},toggleBtn:function(){this.toggle?(this.toggle=!this.toggle,this.$refs.audio.pause(),clearInterval(this.TimeId),clearInterval(this.lyricTimeId)):(this.toggle=!this.toggle,this.$refs.audio.play(),this.getSongMsg(this.currentId))},getSongMsg:function(t){var e=this;t||(this.axios.get("https://music.kele8.cn/song/detail?ids="+this.SongId).then((function(t){e.SongMsg=t,e.isShow=!0,e.toggle=!0})),this.axios.get("https://music.kele8.cn/lyric?id="+this.SongId).then((function(t){e.lyricTxt=t.data.lrc.lyric})),window.console.log("第一次拿")),clearInterval(this.TimeId),this.TimeId=window.setInterval((function(){e.playProgress()}),1e3),this.axios.get("https://music.kele8.cn/song/detail?ids="+t).then((function(t){e.SongMsg=t,e.isShow=!0,e.toggle=!0})),this.axios.get("https://music.kele8.cn/lyric?id="+t).then((function(t){e.lyricTxt=t.data.lrc.lyric}))}}},S=_,C=(s("56c8"),Object(p["a"])(S,u,g,!1,null,"4dc1a898",null)),x=C.exports,b={data:function(){return{currentSongId:null,flag:!1,currentSongList:null}},methods:{handleChange:function(t){this.flag=t}},components:{Player:x}},w=b,M=(s("7c55"),Object(p["a"])(w,c,l,!1,null,null,null)),k=M.exports,I=s("8c4f"),P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[t._m(0),s("ul",{staticClass:"nav"},[s("li",[s("router-link",{attrs:{to:"/recommend"}},[t._v("推荐音乐")])],1),s("li",[s("router-link",{attrs:{to:"/HotSong"}},[t._v("热歌榜")])],1),s("li",[s("router-link",{attrs:{to:"/HomeSearch"},on:{onPlayer:function(e){return t.$emit("onPlayer",e)}}},[t._v("搜索")])],1)]),s("keep-alive",[s("router-view",{on:{onPlayer:function(e){return t.$emit("onPlayer",e)}}})],1)],1)},T=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-header"},[t._v(" Ace "),s("i",[t._v("●")]),t._v(" 音乐 ")])}],L={name:"home",components:{}},$=L,H=(s("de16"),Object(p["a"])($,P,T,!1,null,null,null)),D=H.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend"},[s("home-title",{on:{onPlayer:function(e){return t.$emit("onPlayer",e)}}},[t._v("推荐歌单")]),s("ul",{staticClass:"list-card"},t._l(t.SongList,(function(e,n){return s("Home-song-card",{key:n,attrs:{item:e},on:{onPlayer:function(e){return t.$emit("onPlayer",e)}}})})),1),s("home-title",{on:{onPlayer:function(e){return t.$emit("onPlayer",e)}}},[t._v("最新音乐")]),s("ul",t._l(t.newSong,(function(e,n){return s("single-song",{key:n,attrs:{one:!0,flag:!1,index:n+1,item:e,songList:t.newSong},on:{onPlayer:function(e){return t.$emit("onPlayer",e)}}})})),1)],1)},O=[],V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[t._t("default")],2)},j=[],E={},q=E,N=(s("9143"),Object(p["a"])(q,V,j,!1,null,null,null)),R=N.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{on:{click:function(e){return t.SkipDetail(t.item.id)}}},[s("div",{staticClass:"item-img"},[s("img",{attrs:{src:t.item.picUrl,alt:""}}),s("span",[s("i",{staticClass:"fa fa-headphones"}),t._v(" "+t._s(t.NumCount(this.item.playCount))+" ")])]),s("p",[t._v(t._s(t.item.name))])])},K=[],Q=(s("b680"),{props:{item:Object},methods:{NumCount:function(t){return t<=1e4?(t/1e3).toFixed(2)+"千":t<=1e8?(t/1e4).toFixed(2)+"万":(t/1e8).toFixed(2)+"亿"},SkipDetail:function(t){this.$router.push({path:"/SongDetails",query:{id:t}})}}}),F=Q,A=Object(p["a"])(F,U,K,!1,null,null,null),J=A.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{class:{playing:t.playing},on:{click:function(e){return t.playSong()}}},[t.flag&&!t.search?s("div",{staticClass:"num"},[s("span",{staticClass:"list-num"},[t._v(t._s(t.number(t.index)))]),s("div",{staticClass:"Song-msg"},[s("div",{staticClass:"Song-name"},[s("h6",[t._v(" "+t._s(t.item.name)+" "),null!=t.item.alia[0]?s("span",[t._v("("+t._s(t.item.alia[0])+")")]):t._e()]),s("p",[t.SQ?s("i",[t._v("SQ")]):t._e(),t._v(" "+t._s(t.item.ar[0].name)+"-"+t._s(t.item.al.name)+" ")])]),t._m(0)])]):t._e(),t.flag||t.search?t._e():s("div",{staticClass:"nonum"},[t.flag?s("span",{staticClass:"list-num"},[t._v(t._s(t.number(t.index)))]):t._e(),s("div",{staticClass:"Song-msg"},[s("div",{staticClass:"Song-name"},[s("h6",[t._v(" "+t._s(t.item.name.trim())+" "),null!=t.item.song.album.alias[0]?s("span",[t._v("("+t._s(t.item.song.album.alias[0])+")")]):t._e()]),s("p",[s("i",[t._v("SQ")]),t._v(" "+t._s(t.item.song.artists[0].name)+"-"+t._s(t.item.song.album.name)+" ")])]),t._m(1)])]),t.search?s("div",{staticClass:"Song-msg"},[t.searchResultList?s("div",{staticClass:"Song-name"},[s("h6",{domProps:{innerHTML:t._s(t.replaceKeyword(t.searchResultList.name))}}),s("p",[s("i",[t._v("SQ")]),s("span",{domProps:{innerHTML:t._s(t.replaceKeyword("-"+t.searchResultList.artists[0].name+"-"))}}),s("span",{domProps:{innerHTML:t._s(t.replaceKeyword(t.searchResultList.album.name))}})])]):t._e(),t._m(2)]):t._e()])},Y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"play fa fa-play"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"play fa fa-play-circle-o"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"play-s fa fa-play-circle-o"})])}],G=(s("5319"),s("841c"),{props:["item","index","flag","SQ","songList","search","searchResultList","currentSongList","text"],data:function(){return{isActive:!1,playing:!1}},methods:{number:function(t){return t<10?"0"+t:t},playSong:function(){window.console.log(this.$route),this.playing=!0,this.search?this.$emit("onPlayer",[this.searchResultList.id,this.songList]):(this.$emit("onPlayer",[this.item.id,this.songList]),this.isActive=!0)},replaceKeyword:function(t){return t.replace(this.text,"<span class='hl'>".concat(this.text,"</span>"))}}}),W=G,X=(s("3dff"),Object(p["a"])(W,z,Y,!1,null,"856da648",null)),Z=X.exports,tt={name:"HomeRecommend",components:{HomeTitle:R,HomeSongCard:J,singleSong:Z},data:function(){return{SongList:[],newSong:[]}},created:function(){this.getSongList(),this.getNewSong()},methods:{getSongList:function(){var t=this;this.axios.get("http://musicapi.leanapp.cn/personalized?limit=6").then((function(e){t.SongList=e.data.result}))},getNewSong:function(){var t=this;this.axios.get("http://musicapi.leanapp.cn/personalized/newsong").then((function(e){t.newSong=e.data.result,window.console.log("那新歌")}))}}},et=tt,st=(s("2be0"),Object(p["a"])(et,B,O,!1,null,null,null)),nt=st.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.HotSong?s("div",{staticClass:"hot-song"},[s("div",{staticClass:"hotsong-head",style:{backgroundImage:t.BgImg}},[s("div",{staticClass:"hot-word",style:{backgroundImage:t.BgImg2}},[s("p",{staticClass:"upTime"},[t._v("更新时间:"+t._s(t.updateTime))])])]),s("ul",{staticClass:"song-list"},t._l(t.HotSong.tracks,(function(e,n){return s("song",{key:n,attrs:{index:n,item:e,flag:t.flag,songList:t.HotSong.tracks},on:{onPlayer:function(e){return t.$emit("onPlayer",e)}}})})),1)]):t._e()},at=[],ot={data:function(){return{HotSong:null,updateTime:null,flag:!0}},created:function(){this.getHotSong()},methods:{getHotSong:function(){var t=this;this.axios.get("https://music.kele8.cn/top/list?idx=1").then((function(e){t.HotSong=e.data.playlist;var s=e.data.playlist.updateTime,n=new Date(s),i=n.getMonth(),a=n.getDate();t.updateTime=i+1+"月"+a+"日",window.console.log(e)}))}},components:{Song:Z},computed:{BgImg:function(){return"url(./images/HotBg.jpg)"},BgImg2:function(){return"url(./images/HotBg2.png)"}}},rt=ot,ct=(s("fe77"),Object(p["a"])(rt,it,at,!1,null,null,null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"home-search"},[s("div",{staticClass:"search-inp"},[s("form",{attrs:{action:""},on:{submit:function(e){t.getBestMate(),t.getSearchDetails(t.searchTxt)}}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchTxt,expression:"searchTxt",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.searchTxt},on:{focus:function(e){t.outDetails=!1,t.swich=!1},input:[function(e){e.target.composing||(t.searchTxt=e.target.value.trim())},function(e){t.searchContent(),t.swich=!0}],blur:function(e){return t.$forceUpdate()}}}),s("i",{staticClass:"fa fa-search fl"}),s("i",{directives:[{name:"show",rawName:"v-show",value:""!==t.searchTxt,expression:"searchTxt!==''"}],staticClass:"fa fa-times-circle fr",on:{click:function(e){t.searchTxt=""}}})])]),""===t.searchTxt?s("div",{staticClass:"search-hot"},[s("p",[t._v("热门搜索")]),s("ul",{staticClass:"search-hot-list"},t._l(t.searchHot,(function(e,n){return s("li",{key:n,on:{click:function(s){t.searchTxt=e.first,t.getBestMate(),t.getSearchDetails(t.searchTxt)}}},[t._v(t._s(e.first))])})),0),t._l(t.searchHistory,(function(e,n){return s("ul",{key:n,staticClass:"search-history"},[s("li",{on:{click:function(s){t.searchTxt=e,t.getBestMate(),t.getSearchDetails(t.searchTxt),t.searchHistory.unshift(t.searchHistory.splice(t.searchHistory.indexOf(e),1)[0])}}},[t._m(0,!0),s("p",[t._v(" "+t._s(e)+" "),s("i",{staticClass:"fa fa-close",on:{click:function(s){return s.stopPropagation(),t.delHistory(e)}}})])])])}))],2):t._e(),""===t.searchTxt||t.outDetails?t._e():s("div",{staticClass:"search-recommend"},[s("p",{staticClass:"search-btn",on:{click:function(e){t.getBestMate(),t.getSearchDetails(t.searchTxt)}}},[t._v("搜索“"+t._s(t.searchTxt.trim())+"”")]),s("ul",t._l(t.searchRecommend,(function(e,n){return s("search-list",{key:n,attrs:{recommendItem:e,keyword:t.searchTxt},on:{outDetails:function(e){t.searchTxt=e,t.getSearchDetails(e),t.getBestMate()}}})})),1)]),t.outDetails&&""!==t.searchTxt?s("div",{staticClass:"search-detail"},[s("p",{staticClass:"detail"},[t._v("最佳匹配")]),t.bestMate?s("div",{staticClass:"search-best-mate"},[t.bestMate.album?s("div",{staticClass:"search-best-album search-best",on:{click:function(e){return t.getMoreMssage(t.bestMate.album[0].id,"album")}}},[s("h5",[s("img",{attrs:{src:t.bestMate.album[0].blurPicUrl,alt:""}})]),s("div",{staticClass:"message-box"},[s("div",{staticClass:"message"},[s("p",{domProps:{innerHTML:t._s("专辑:"+t.replaceKeyword(t.bestMate.album[0].name))}}),s("span",{staticClass:"single-name hl",domProps:{innerHTML:t._s(t.replaceKeyword(t.bestMate.album[0].artists[0].name))}})]),s("i",{staticClass:"fa fa-angle-right"})])]):t._e(),t.bestMate.artist?s("div",{staticClass:"search-best-song search-best",on:{click:function(e){return t.getMoreMssage(t.bestMate.artist[0].id,"single")}}},[s("h5",[s("img",{attrs:{src:t.bestMate.artist[0].img1v1Url,alt:""}})]),s("div",{staticClass:"message-box"},[s("div",{staticClass:"message"},[s("p",{domProps:{innerHTML:t._s("歌手:"+t.replaceKeyword(t.bestMate.artist[0].name))}})]),s("i",{staticClass:"fa fa-angle-right"})])]):t._e(),t.bestMate.mv?s("div",{staticClass:"search-best-Mv search-best-mv"},[s("h5",[s("img",{attrs:{src:t.bestMate.mv[0].cover,alt:""}}),s("i",{staticClass:"fa fa-play"})]),s("div",{staticClass:"message-box"},[s("div",{staticClass:"message"},[s("p",{domProps:{innerHTML:t._s("MV:"+t.replaceKeyword(t.bestMate.mv[0].name))}}),s("span",{staticClass:"single-name",domProps:{innerHTML:t._s(t.replaceKeyword(t.bestMate.mv[0].artistName))}})]),s("i",{staticClass:"fa fa-angle-right"})])]):t._e()]):t._e(),t.searchResult&&""!=t.searchTxt?s("ul",t._l(t.searchResult.songs,(function(e,n){return s("song",{key:n,attrs:{searchResultList:e,text:t.searchTxt,search:!0,songList:t.searchResult.songs},on:{onPlayer:function(e){return t.$emit("onPlayer",e)}}})})),1):t._e()]):t._e()])])},gt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fa fa-clock-o"})])}],ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{on:{click:t.handleClick}},[s("i",{staticClass:"fa fa-search"}),s("span",[t._v(t._s(t.recommendItem.keyword))])])},dt=[],mt={props:["recommendItem"],methods:{handleClick:function(){this.$emit("outDetails",this.recommendItem.keyword)}}},ft=mt,pt=(s("97ef"),Object(p["a"])(ft,ht,dt,!1,null,"d9af976a",null)),vt=pt.exports,yt={components:{searchList:vt,song:Z},data:function(){return{searchHot:[],searchTxt:"",searchRecommend:null,searchResult:null,outDetails:!1,bestMate:null,searchHistory:[],moreMessage:null,swich:!1}},created:function(){this.getSeatchHot()},methods:{handleEnd:function(t){window.console.log(t)},getMoreMssage:function(t,e){"MV"==e?this.axios.get("https://music.kele8.cn/mv/url?id="+t).then((function(t){window.console.log(t)})):"album"==e?this.axios.get("https://music.kele8.cn/album/detail/dynamic?id="+t).then((function(t){window.console.log(t)})):"single"==e&&this.axios.get("https://music.kele8.cn/artist/desc?id="+t).then((function(t){window.console.log(t)}))},replaceKeyword:function(t){return t.replace(this.searchTxt,"<span class='hl'>".concat(this.searchTxt,"</span>"))},delHistory:function(t){this.searchHistory.splice(this.searchHistory.indexOf(t),1),window.localStorage.setItem("history",JSON.stringify(this.searchHistory))},getBestMate:function(){var t=this;this.searchTxt&&this.axios.get("https://music.kele8.cn/search/multimatch?keywords="+this.searchTxt).then((function(e){t.bestMate=e.data.result}))},getSearchDetails:function(t){var e=this;this.searchHistory.indexOf(t)<0&&""!=this.searchTxt&&(this.searchHistory.unshift(t),window.localStorage.setItem("history",JSON.stringify(this.searchHistory))),""!=this.searchTxt&&(this.outDetails=!0,this.axios.get("https://music.kele8.cn/search?keywords="+this.searchTxt).then((function(t){e.searchResult=t.data.result})))},getSeatchHot:function(){var t=this;window.localStorage.getItem("history")&&(this.searchHistory=JSON.parse(window.localStorage.getItem("history"))),this.axios.get("https://music.kele8.cn/search/hot").then((function(e){t.searchHot=e.data.result.hots,window.console.log(e)}))},searchContent:function(){var t=this;""==this.searchTxt&&(this.outDetails=!1),this.searchTxt;var e=!0;e&&this.searchTxt&&(e=!1,this.axios.get("https://music.kele8.cn/search/suggest?keywords="+this.searchTxt+"&type=mobile").then((function(e){t.searchRecommend=e.data.result.allMatch})),setTimeout((function(){e=!0}),500))}}},_t=yt,St=(s("1a8b"),Object(p["a"])(_t,ut,gt,!1,null,"f264dfb4",null)),Ct=St.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.DetailsSong?s("div",{staticClass:"Details"},[s("p",{staticClass:"goBack"},[s("i",{staticClass:"fa fa-mail-reply",on:{click:function(e){return t.$router.go(-1)}}})]),null!=t.DetailsSong.coverImgUrl||null!=t.DetailsSong.backgroundCoverUrl?s("song-list",{attrs:{DetailsSong:t.DetailsSong,series:!1},on:{onPlayer:function(e){return t.$emit("onPlayer",e)}}}):t._e()],1):t._e()},bt=[],wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"SongList"},[t.DetailsSong.backgroundCoverUrl?s("div",{staticClass:"SongListHead head-one",style:{backgroundImage:t.Bgimgs2}},[s("h4",[t._v(t._s(t.DetailsSong.name))]),s("p",[s("span",[t._v(t._s(t.DetailsSong.updateFrequency))])]),t.DetailsSong?s("div",{staticClass:"SongListContent"},t._l(t.textSplit(t.DetailsSong.description),(function(e,n){return s("span",{key:n},[t._v(" "+t._s(e)+" "),s("br")])})),0):t._e()]):t._e(),t.DetailsSong.coverImgUrl&&t.DetailsSong.backgroundCoverUrl?t._e():s("div",{staticClass:"SongListHead head-tow"},[s("div",{staticClass:"Bg",style:{backgroundImage:t.Bgimgs}}),s("div",{staticClass:"head-fl"},[s("img",{attrs:{src:t.DetailsSong.coverImgUrl||t.DetailsSong.backgroundCoverUrl,alt:"as"}}),s("span"),s("i",{staticClass:"fa fa-headphones"},[t._v(t._s(t.NumCount(t.DetailsSong.playCount)))]),s("span",[t._v("歌单")])]),s("div",{staticClass:"head-fr"},[s("h4",[t._v(t._s(t.DetailsSong.name))]),s("div",{staticClass:"logo-box"},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:t.DetailsSong.creator.avatarUrl,alt:""}}),s("i",{staticClass:"fa fa-vimeo"})]),s("span",[t._v("网易云音乐")])])])]),s("div",{staticClass:"describe"},[s("div",{staticClass:"lable"},[s("p",[t._v(" 标签: "),t._l(t.DetailsSong.tags,(function(e,n){return s("span",{key:n},[t._v(t._s(e))])}))],2),s("div",{staticClass:"text",class:[t.flag?"on":"off"]},[s("p",[t._v(" 简介: "),t._l(t.textSplit(t.DetailsSong.description),(function(e,n){return s("span",{key:n},[t._v(" "+t._s(e)+" "),s("br")])}))],2),s("i",{staticClass:"fa fa-angle-down",on:{click:function(e){t.flag=!t.flag}}})])])]),s("div",{staticClass:"Song-list"},[s("h3",{attrs:{id:"list-head"}},[t._v("歌曲列表")]),s("ul",t._l(t.SongItem,(function(e,n){return s("single-song",{key:n,attrs:{item:e,index:n+1,flag:!0,songList:t.SongItem},on:{onPlayer:function(e){return t.$emit("onPlayer",e)}}})})),1)])])},Mt=[],kt={props:["DetailsSong","series"],data:function(){return{flag:!1}},computed:{Bgimgs:function(){return"url("+this.DetailsSong.coverImgUrl+")"},Bgimgs2:function(){return"url("+this.DetailsSong.backgroundCoverUrl+")"},SongItem:function(){return this.DetailsSong.tracks}},methods:{saveSongList:function(){window.localStorage.setItem("SongList",this.DetailsSong)},textSplit:function(t){return t.split("\n")},NumCount:function(t){return t<=1e4?(t/1e3).toFixed(1)+"千":t<=1e8?(t/1e4).toFixed(1)+"万":(t/1e8).toFixed(1)+"亿"}},components:{SingleSong:Z}},It=kt,Pt=(s("5c33"),Object(p["a"])(It,wt,Mt,!1,null,null,null)),Tt=Pt.exports,Lt={components:{SongList:Tt},data:function(){return{DetailsSong:null}},methods:{getRecommedSong:function(t){var e=this;this.axios.get("http://musicapi.leanapp.cn/playlist/detail",{params:{id:t}}).then((function(t){e.DetailsSong=t.data.playlist,window.console.log(e.DetailsSong)}))}},beforeRouteEnter:function(t,e,s){s((function(e){e.getRecommedSong(t.query.id)}))}},$t=Lt,Ht=(s("13fe"),Object(p["a"])($t,xt,bt,!1,null,null,null)),Dt=Ht.exports;n["a"].use(I["a"]);var Bt=[{path:"/",name:"home",component:D,redirect:"/recommend",children:[{path:"recommend",component:nt},{path:"HotSong",component:lt},{path:"HomeSearch",component:Ct}]},{path:"/SongDetails",component:Dt}],Ot=new I["a"]({routes:Bt}),Vt=Ot;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(k)},router:Vt,components:{}}).$mount("#app")},"5aa0":function(t,e,s){},"5c33":function(t,e,s){"use strict";var n=s("8e43"),i=s.n(n);i.a},"5ce1":function(t,e,s){"use strict";var n=s("2dcc"),i=s.n(n);i.a},"6f2c":function(t,e,s){},"757e":function(t,e,s){},"7c55":function(t,e,s){"use strict";var n=s("2395"),i=s.n(n);i.a},"8d91":function(t,e,s){},"8e43":function(t,e,s){},9143:function(t,e,s){"use strict";var n=s("ea77"),i=s.n(n);i.a},"97ef":function(t,e,s){"use strict";var n=s("997f"),i=s.n(n);i.a},"997f":function(t,e,s){},a3bf:function(t,e,s){},be24:function(t,e,s){},de16:function(t,e,s){"use strict";var n=s("8d91"),i=s.n(n);i.a},ea77:function(t,e,s){},eb31:function(t,e,s){},fe77:function(t,e,s){"use strict";var n=s("be24"),i=s.n(n);i.a}});
//# sourceMappingURL=app.c033e402.js.map