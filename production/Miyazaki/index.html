<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.staticfile.org/minireset.css/0.0.2/minireset.min.css">
    <link rel="stylesheet" href="./look.css">
    <title>Document</title>
</head>

<body>
    <div class="stage">
        <h3>Movies</h3>
        <h5>Popular</h5>
        <ul class="photo">
            <li class="img">
                <div class="front"></div>
                <div class="back">

                </div>
                <div class="mask">
                </div>
                <i></i>

            </li>
            <li class="img">
                    <div class="front"></div>
                    <div class="back">
    
                    </div>
                <div class="mask">
                </div>
                <i></i>

            </li>
            <li class="img">
                    <div class="front"></div>
                    <div class="back">
    
                    </div>
                <div class="mask">
                </div>
                <i></i>

            </li>
        </ul>
    </div>
    <script>
     var stage=document.getElementsByClassName("stage")[0]
     var front=document.querySelectorAll(".front")
     var back=document.querySelectorAll(".back")
     document.body.onmousemove=function(e){
         var x=e.clientX-stage.offsetLeft-stage.offsetWidth/2
         var y=e.clientY-stage.offsetTop-stage.offsetHeight/2
         stage.style.transform="rotateX("+-y/30+"deg) "+"rotateY("+-x/30+"deg)"

         front.forEach((e,i)=>{
             e.style.backgroundPositionX=x/150+"px"
             e.style.backgroundPositionY=y/150+"px"
         })
         back.forEach((e,i,arr)=>{
             e.style.backgroundPositionX=-x/100+"px"
             e.style.backgroundPositionY=-y/100+"px"
             arr[1].style.backgroundPositionX=-x/100+30+"px"
             arr[1].style.backgroundPositionY=-y/100+15+"px"
         })
     }
        
    </script>
</body>

</html>